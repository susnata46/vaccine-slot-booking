<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content=
            "width=device-width, initial-scale=1.0">

    <title>JavaScript | fetch() Method</title>
</head>

<body>
<script src="https://unpkg.com/@popperjs/core@2"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
<script>
    const secret = 'U2FsdGVkX1+HQAr4dz+duq8zfH7xAvGNjw7bG1OGY9OvIuvNf3P+2J2J0iM1tu3ENPXB6/rPZsvqB+f54ikhuw=='
    axios.defaults.baseURL = 'https://cdn-api.co-vin.in/api/v2'
    const headers = () => ({
        'Content-Type': 'application/json',
        //'Authorization': `Bearer ${localStorage.getItem('token')}`
    })

    async function generateOTP() {
        //let mobile = 8961202481
        //localStorage.setItem('mobile', mobile)
        const res = await axios({
            method: 'post',
            url: 'auth/generateMobileOTP',
            data: {mobile, secret}
        })
        let txnId = res.data['txnId']
        console.log({txnId})
    }

    generateOTP();
</script>
</body>

</html>
